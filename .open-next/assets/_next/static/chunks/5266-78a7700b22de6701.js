"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5266],{75266:function(e,t,a){var r=a(57437),s=a(84590),n=a(51352),l=a(66795);a(68033);var i=a(19239),o=a(682),d=a(7908),u=a(26490),c=a(70769),f=a(20703),x=a(2265),m=a(6128),p=a(58641),h=a(71399);t.Z=e=>{var t;let{asset_url:a,thumbnails:g,public_thumbnail:b,v,className:N,isPublicClip:y,editClip:j,quota_type:w,generatedCounts:k,groupId:S}=e,[T,F]=(0,x.useState)(""),[_,E]=(0,x.useState)(!1),[A,D]=(0,x.useState)(!1),[I,z]=(0,x.useState)(null),{user:C,isLoaded:O,isSignedIn:R}=(0,o.aF)(),{toast:V}=(0,i.pm)(),M=async e=>{var t,s,n;if(!T){V({variant:"default",description:"Please create a title for your clip",action:(0,r.jsx)("div",{className:"!bg-[#6760f1] p-1 flex items-center justify-center rounded-full",children:(0,r.jsx)(p.I2T,{className:"!text-[#FDFFFF]"})})});return}if(!I){V({variant:"default",description:"Please select a thumbnail",action:(0,r.jsx)("div",{className:"!bg-[#6760f1] p-1 flex items-center justify-center rounded-full",children:(0,r.jsx)(p.I2T,{className:"!text-[#FDFFFF]"})})});return}E(!0);try{let e=await d.Z.post("".concat("http://23.176.184.83:8000/api","/assets/save-asset"),{title:T,asset_url:a,thumbnail:I,user_id:null==C?void 0:C.id,quota_type:w,generatedCounts:k,groupId:S,video_duration:null==v?void 0:v.duration});(null==e?void 0:null===(t=e.data)||void 0===t?void 0:t.success)&&(F(""),E(!1),D(!1),V({variant:"default",description:"Saved clip to library",action:(0,r.jsx)("div",{className:"!bg-[#3faa56] p-1 flex items-center justify-center rounded-full",children:(0,r.jsx)(h.l_A,{className:"!text-[#FDFFFF]"})})}))}catch(e){console.log(e),V({variant:"default",description:"".concat(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(s=n.data)||void 0===s?void 0:s.message),action:(0,r.jsx)("div",{className:"!bg-[#6760f1] p-1 flex items-center justify-center rounded-full",children:(0,r.jsx)(p.I2T,{className:"!text-[#FDFFFF]"})})}),E(!1)}},Z=e=>{z(e)};return(0,x.useEffect)(()=>{z(b)},[b]),R&&O&&(0,r.jsxs)(n.Vq,{open:A,onOpenChange:D,children:[(0,r.jsx)(n.hg,{asChild:!0,children:(0,r.jsxs)("div",{className:"absolute bottom-4 left-4 right-4 space-y-2",children:[!y&&(0,r.jsxs)("div",{className:"flex items-center text-sm text-white/90 z-10",children:[(0,r.jsx)(u.Z,{size:14,className:"mr-1 z-10"}),(0,r.jsxs)("span",{className:"z-10",children:[" ",(t=null==v?void 0:v.duration,"".concat(Math.floor(t/60),":").concat((t%60).toString().padStart(2,"0")))]})]}),(0,r.jsx)("div",{className:"flex gap-2",children:(0,r.jsxs)(s.z,{size:"sm",variant:"outline",className:"flex-1 bg-white/10 border-white/20 text-white hover:text-white hover:bg-white/20 hover:border-white/30 transition-all z-10",children:[(0,r.jsx)(c.Z,{className:"w-4 h-4 mr-2"}),"Save to Library"]})})]})}),(0,r.jsxs)(n.cZ,{className:"sm:max-w-[425px] md:max-w-[500px] bg-black/95 border border-white/10 backdrop-blur-sm text-white",children:[(0,r.jsx)(n.fK,{children:(0,r.jsx)(n.$N,{className:"text-neutral-300",children:"Save Short to Library"})}),(0,r.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,r.jsx)("div",{className:"w-full items-center gap-4",children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsx)("label",{className:"text-sm font-medium text-gray-200",children:"Title"}),(0,r.jsx)(l.I,{placeholder:"Enter a title for your short",className:"bg-white/5 border-white/10 text-white placeholder:text-gray-500 w-full",onChange:e=>F(e.target.value)})]})}),(0,r.jsxs)("div",{className:"space-y-2",children:[!y&&(0,r.jsx)("label",{className:"text-sm font-medium text-gray-200",children:"Choose Thumbnail"}),!b&&(0,r.jsx)("div",{className:"grid grid-cols-3 lg:grid-cols-5 gap-x-3 gap-y-3 h-[230px]",children:(null==g?void 0:g.length)>0&&(null==g?void 0:g.map((e,t)=>(0,r.jsx)(f.default,{src:"".concat(e),width:800,height:800,alt:"".concat(e),className:"".concat(I===e?"border-2 border-[#4F46E5]/90 rounded-md cursor-pointer h-[100px] lg:h-[150px] w-full object-cover":"h-[100px] lg:h-[150px] w-full object-cover rounded-lg cursor-pointer border-none"),onClick:()=>Z(e)})))})]})]}),(0,r.jsxs)(n.cN,{className:"flex items-center gap-x-2 gap-y-2",children:[(0,r.jsx)("button",{variant:"outline",onClick:()=>D(!1),className:"border-white/10 text-gray-400 hover:text-white hover:bg-white/10 bg-white/20 text-sm py-2 px-4 rounded transition-all duration-200 ease-in-out",children:"Cancel"}),(0,r.jsx)("button",{disabled:_,onClick:()=>M(),className:"bg-[#4F46E5] disabled:bg-[#4F46E5] hover:bg-[#4F46E5]/80 !text-white py-2 ".concat(_?"px-8 py-2":"px-3"," rounded flex items-center justify-center gap-x-2 border-none text-sm transition-all duration-300 ease-in-out"),children:_?(0,r.jsx)(m.Z7b,{className:"animate-spin text-lg"}):(0,r.jsxs)("div",{className:"flex items-center gap-x-2",children:[(0,r.jsx)(h.TvB,{}),"Save to library"]})})]})]})]})}},84590:function(e,t,a){a.d(t,{z:function(){return d}});var r=a(57437),s=a(2265),n=a(59143),l=a(57742),i=a(84353);let o=(0,l.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-neutral-300",{variants:{variant:{default:"bg-neutral-900 text-neutral-50 shadow hover:bg-neutral-900/90 dark:bg-neutral-50 dark:text-neutral-900 dark:hover:bg-neutral-50/90",destructive:"bg-red-500 text-neutral-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-neutral-50 dark:hover:bg-red-900/90",outline:"border border-neutral-200 bg-white shadow-sm hover:bg-neutral-100 hover:text-neutral-900 dark:border-neutral-800 dark:bg-neutral-950 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",secondary:"bg-neutral-100 text-neutral-900 shadow-sm hover:bg-neutral-100/80 dark:bg-neutral-800 dark:text-neutral-50 dark:hover:bg-neutral-800/80",ghost:"hover:bg-neutral-100 hover:text-neutral-900 dark:hover:bg-neutral-800 dark:hover:text-neutral-50",link:"text-neutral-900 underline-offset-4 hover:underline dark:text-neutral-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),d=s.forwardRef((e,t)=>{let{className:a,variant:s,size:l,asChild:d=!1,...u}=e,c=d?n.g7:"button";return(0,r.jsx)(c,{className:(0,i.cn)(o({variant:s,size:l,className:a})),ref:t,...u})});d.displayName="Button"},51352:function(e,t,a){a.d(t,{$N:function(){return p},Vq:function(){return o},cN:function(){return m},cZ:function(){return f},fK:function(){return x},hg:function(){return d}});var r=a(57437),s=a(2265),n=a(72936),l=a(62177),i=a(84353);let o=n.fC,d=n.xz,u=n.h_;n.x8;let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...s})});c.displayName=n.aV.displayName;let f=s.forwardRef((e,t)=>{let{className:a,children:s,...o}=e;return(0,r.jsxs)(u,{children:[(0,r.jsx)(c,{}),(0,r.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-neutral-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-neutral-800 dark:bg-neutral-950",a),...o,children:[s,(0,r.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-neutral-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-neutral-100 data-[state=open]:text-neutral-500 dark:ring-offset-neutral-950 dark:focus:ring-neutral-300 dark:data-[state=open]:bg-neutral-800 dark:data-[state=open]:text-neutral-400",children:[(0,r.jsx)(l.Pxu,{className:"h-4 w-4 text-white"}),(0,r.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let x=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...a})};x.displayName="DialogHeader";let m=e=>{let{className:t,...a}=e;return(0,r.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...a})};m.displayName="DialogFooter";let p=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...s})});p.displayName=n.Dx.displayName,s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-neutral-500 dark:text-neutral-400",a),...s})}).displayName=n.dk.displayName},66795:function(e,t,a){a.d(t,{I:function(){return l}});var r=a(57437),s=a(2265),n=a(84353);let l=s.forwardRef((e,t)=>{let{className:a,type:s,...l}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-9 w-full rounded-md border border-neutral-200 bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-neutral-950 placeholder:text-neutral-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-neutral-950 disabled:cursor-not-allowed disabled:opacity-50 dark:border-neutral-800 dark:file:text-neutral-50 dark:placeholder:text-neutral-400 dark:focus-visible:ring-neutral-300",a),ref:t,...l})});l.displayName="Input"},68033:function(e,t,a){a.d(t,{_:function(){return d}});var r=a(57437),s=a(2265),n=a(24602),l=a(57742),i=a(84353);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),a),...s})});d.displayName=n.f.displayName},19239:function(e,t,a){a.d(t,{pm:function(){return f}});var r=a(2265);let s=0,n=new Map,l=e=>{if(n.has(e))return;let t=setTimeout(()=>{n.delete(e),u({type:"REMOVE_TOAST",toastId:e})},1e6);n.set(e,t)},i=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:a}=t;return a?l(a):e.toasts.forEach(e=>{l(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===a||void 0===a?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},o=[],d={toasts:[]};function u(e){d=i(d,e),o.forEach(e=>{e(d)})}function c(e){let{...t}=e,a=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),r=()=>u({type:"DISMISS_TOAST",toastId:a});return u({type:"ADD_TOAST",toast:{...t,id:a,open:!0,onOpenChange:e=>{e||r()}}}),{id:a,dismiss:r,update:e=>u({type:"UPDATE_TOAST",toast:{...e,id:a}})}}function f(){let[e,t]=r.useState(d);return r.useEffect(()=>(o.push(t),()=>{let e=o.indexOf(t);e>-1&&o.splice(e,1)}),[e]),{...e,toast:c,dismiss:e=>u({type:"DISMISS_TOAST",toastId:e})}}},84353:function(e,t,a){a.d(t,{cn:function(){return n}});var r=a(75504),s=a(51367);function n(){for(var e=arguments.length,t=Array(e),a=0;a<e;a++)t[a]=arguments[a];return(0,s.m6)((0,r.W)(t))}}}]);